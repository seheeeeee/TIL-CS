# 2.4 IP 주소

인터넷 계층에서 IP 주소 사용

## 2.4.1 ARP (Address Resolution Protocol)

IP 주소로 부터 MAC 주소를 구하는 IP와 MAC 주소의 다리 역할하는 프로토콜<br/>

- 가상 주소인 IP 주소 -> ARP -> (브로드캐스트) -> 실제주소 MAC 주소 -> (유니케스트) -> 매치<br/>
- MAC 주소 -> RARP -> IP 주소<br/>
  > 브로드캐스트: 송신 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전송되는 방식<br/>
  > 유니캐스트: 고유 주소로 식별된 하나의 네트워크 목적지에 1:1로 데이터를 전송하는 방식<br/>

## 2.4.2 홉바이홉 통신

IP 주소를 통해 통신하는 과정을 홉바이홉 통신이라고 함. 홉이란 영어 뜻으로 건너 뛰는 모습을 의미<br/>
각 패킷이 여러 개의 라우터를 건너가는 모습을 표현한 것.<br/>
수많은 서브네트워크 안에 있는 라우터의 라우팅 테이블 IP 를 기반으로 패킷을 전달해나가며 라우팅을 수행하며 최종 목적지 까지 패킷을 전달하는 것<br/>

> 라우팅: IP 주소를 찾아가는 과정

### 라우팅 테이블

송신지에서 수신지까지 도달하기 위해 사용<br/>
라우터에 들어가 있는 목적지 정보들과 그 목적지로 가기 위한 방법이 들어있는 리스트를 의미<br/>
게이트웨이와 모든 목적지에 대해 해당 목적지에 도달하기 위해 거쳐야할 다음 라우터 정보를 가지고 있음<br/>

### 게이트웨이

서로 다른 통신망, 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 관문역할을 하는 컴퓨터나 소프트웨어를 두루 일컷는 말<br/>
게이트웨이 확인 방법: 윈도우 명령 프롬프트에서 netstat -r 명령어 실행

## 2.4.3 IP 주소 체계

- IPv4: 32비트를 8비트 단위로 점을 찍어 표기하는 방식(ex 123.45.67.89)<br/>
- IPv6: 64비트를 16비트 단위로 점을 찍어 표기하는 방식(ex 2001:dh8::ff00:42:8329)<br/>

### 클래스 기반 할당 방식

처음에는 A, B, C, D, E 다섯 개의 클래스로 구분하는 클래스 기반 할당 방식을 사용함<br/>

- 클래스 A, B, C: 일대일 통신으로 사용<br/>
- 클래스 D: 브로드캐스트용 주소<br/>
- 클래스 E: 예비용 주소<br/>

### DHCP (Dynamic Host Configuration Protocol)

IP 주소 및 기타 통신 매개변수를 자동으로 할당하기 위한 네트워크 관리 프로토콜<br/>
인터넷에 접속할 때 마다 자동으로 IP 주소를 할당할 수 있음<br/>
많은 라우터와 게이트웨이 장비에 DHCP 기능이 있고 대부분의 가정용 네트워크에서 IP 주소 할당을 위해 사용함<br/>

### NAT (Network Address Translation)

패킷이 라우팅 장치를 통해 전송되는 동안 패킷의 IP 주소를 수정하여 IP 주소를 다른 주소로 매핑하는 방법<br/>
사설 IP -> NAT -> 공인 IP 로 사용

## 2.4.4 IP 주소를 이용한 위치 정보

IP 주소는 인터넷에서 사용하는 네트워크 주소이기 때문에 이를 통해 동 또는 구까지 위치추적이 가능함.
